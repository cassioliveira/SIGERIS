<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                template="/WEB-INF/templates/Layout.xhtml"> 

    <f:metadata>
        <f:viewParam name="professor" value="#{professorBean.professor}"/>
    </f:metadata>

    <ui:define name="content">
        <p:fieldset id="fieldsetProfessor" legend="Cadastro de professor">

            <p:messages closable="true" severity="info,warn,error">
                <p:autoUpdate/>
            </p:messages>

            <h:form id="formPesquisaProfessor" enctype="multipart/form-data">
                <p:tabView id="tabContainer">

                    <p:tab id="pessoais" title="Dados pessoais">
                        <h:panelGrid columns="2">

                            <h:panelGroup>
                                <div style="border: 0px solid red; width: 100px; position: relative">
                                    <h:panelGroup id="fotoProfessor">
                                        <p:graphicImage library="sigeris" name="imagens/avatar.png" cache="false"
                                                        style="height: 97px; margin-bottom: 2px; text-align: center"/>
                                    </h:panelGroup>

                                    <p:fileUpload id="photoUpload" cancelLabel="Cancelar" dragDropSupport="true" 
                                                  fileLimit="1" label="Alterar foto" update="fotoProfessor"
                                                  mode="simple" uploadLabel="Enviar..." skinSimple="true" 
                                                  style="width: 100px; font-size: 11px; font-weight: bold"
                                                  auto="true" disabled="true"/>
                                </div>
                            </h:panelGroup>

                            <h:panelGroup>

                                <h:panelGrid columns="2">

                                    <p:outputLabel for="name" value="Nome: "/>
                                    <p:inputText id="name" value="#{professorBean.professor.nome}" size="35" maxlength="200"/>

                                    <p:outputLabel for="registration" value="Matrícula: "/>
                                    <p:inputMask id="registration" value="#{professorBean.professor.matricula}" size="13" 
                                                 maxlength="10" mask="9.99999-9"/>

                                    <p:outputLabel for="sexo" value="Sexo: " style="margin-right: 42px;"/>
                                    <p:selectOneMenu id="sexo" value="#{professorBean.professor.sexo}" style="width: 100px">
                                        <f:selectItem noSelectionOption="true"/>
                                        <f:selectItem itemLabel="Masculino" itemValue="M"/>
                                        <f:selectItem itemLabel="Feminino" itemValue="F"/>
                                        <f:selectItem itemLabel="Não Informado" itemValue="O"/>
                                    </p:selectOneMenu>

                                    <p:outputLabel for="birthDate" value="Data de nascimento: " style="margin-right: 1px"/>
                                    <p:calendar id="birthDate" navigator="true" pattern="dd/MM/yyyy" yearRange="c-100:c+100" maxlength="10" mask="true"
                                                size="13" locale="pt" value="#{professorBean.professor.dataNascimento}" maxdate="#{dateTimeUtilBean.dateToday}" >
                                        <f:convertDateTime type="date" pattern="dd/MM/yyyy" locale="pt_BR" timeZone="#{initParam.timezone}"/>
                                    </p:calendar>

                                </h:panelGrid>

                            </h:panelGroup>

                        </h:panelGrid>
                    </p:tab>

                    <p:tab id="contato" title="Contato">
                        <h:panelGrid columns="2">
                            <p:outputLabel for="phone1" value="Celular: "/>
                            <p:inputText id="phone1" value="#{professorBean.professor.celular}" size="15" maxlength="15" class="telefone"/>

                            <p:outputLabel for="phone2" value="Telefone: "/>
                            <p:inputText id="phone2" value="#{professorBean.professor.telefone}" size="15" maxlength="15" class="telefone"/>

                            <p:outputLabel for="email" value="E-mail: "/>
                            <p:inputText id="email" value="#{professorBean.professor.email}" size="35" maxlength="100"/>

                            <p:outputLabel for="email2" value="E-mail 2: "/>
                            <p:inputText id="email2" value="#{professorBean.professor.email2}" size="35" maxlength="100"/>
                        </h:panelGrid>
                    </p:tab>

                    <p:tab id="endereco" title="Endereço">

                        <h:panelGrid columns="2">

                            <p:outputLabel for="uf" value="Estado: "/>
                            <p:selectOneMenu id="uf" value="#{professorBean.professor.estado}" style="width: 261px">
                                <f:selectItem noSelectionOption="true"/>
                                <f:selectItems var="estado" value="#{professorBean.estados}" itemLabel="#{estado.description}" itemValue="#{estado}"/>
                            </p:selectOneMenu>

                            <p:outputLabel for="cidade" value="Cidade: "/>
                            <p:inputText id="cidade" value="#{professorBean.professor.cidade}" size="33" maxlength="200"/>

                            <p:outputLabel for="rua" value="Rua: "/>
                            <p:inputText id="rua" value="#{professorBean.professor.rua}" size="33" maxlength="200"/>

                            <p:outputLabel for="numero" value="Número: "/>
                            <p:inputText id="numero" value="#{professorBean.professor.numero}" size="20" maxlength="5"/>

                            <p:outputLabel for="bairro" value="Bairro: "/>
                            <p:inputText id="bairro" value="#{professorBean.professor.bairro}" size="20" maxlength="50"/>

                            <p:outputLabel for="cep" value="CEP: "/>
                            <p:inputMask id="cep" mask="99999-999" value="#{professorBean.professor.cep}" size="20" maxlength="9"/>

                            <p:outputLabel for="complemento" value="Complemento: "/>
                            <p:inputText id="complemento" value="#{professorBean.professor.complemento}" size="20" maxlength="200"/>

                        </h:panelGrid>

                    </p:tab>

                    <p:tab id="documentacao" title="Documentação">
                        <h:panelGrid columns="2">
                            <p:outputLabel for="rg" value="RG: "/>
                            <p:inputText id="rg" value="#{professorBean.professor.rg}" size="13" maxlength="20"/>

                            <p:outputLabel for="cpf" value="CPF: "/>
                            <p:inputMask id="cpf" mask="999.999.999-99" value="#{professorBean.professor.cpf}" size="13" maxlength="14"/>
                        </h:panelGrid>
                    </p:tab>

                    <p:tab id="academico" title="Dados acadêmicos">

                        <h:panelGrid columns="2" cellpadding="0" cellspacing="2">

                            <p:outputLabel for="categoria" value="Categoria: "/>
                            <p:selectOneRadio id="categoria" value="#{professorBean.professor.categoria}">
                                <f:selectItems var="categoria" itemLabel="#{categoria.description}" itemValue="#{categoria}" value="#{professorBean.categorias}"/>
                            </p:selectOneRadio>

                            <p:outputLabel for="regimeTrabalho" value="Carga horária: "/>
                            <p:selectOneRadio id="regimeTrabalho" value="#{professorBean.professor.regimeTrabalho}">
                                <f:selectItem itemLabel="T20" itemValue="T20"/>
                                <f:selectItem itemLabel="T40" itemValue="T40"/>
                            </p:selectOneRadio>

                            <p:outputLabel for="dedicacaoExclusiva" value="Dedicação exclusiva: "/>
                            <p:selectOneRadio id="dedicacaoExclusiva" value="#{professorBean.professor.dedicacaoExclusiva}">
                                <f:selectItem  itemLabel="Sim" itemValue="true"/>
                                <f:selectItem  itemLabel="Não" itemValue="false"/>
                            </p:selectOneRadio>

                            <p:outputLabel for="temFuncao" value="Tem função?"/>
                            <p:selectOneRadio id="temFuncao" value="#{professorBean.professor.temFuncao}">
                                <f:selectItem  itemLabel="Sim" itemValue="true"/>
                                <f:selectItem  itemLabel="Não" itemValue="false"/>
                                <!--<f:ajax execute="temFuncao" render="function-description" event="change"/>-->
                            </p:selectOneRadio>

                            <p:outputLabel for="funcionDescription" value="Desc. Função:"/>
                            <p:inputText id="funcionDescription" value="#{professorBean.professor.descricaoFuncao}" style="width: 273px"/>
<!--                                    <h:panelGroup id="function-description" rendered="#{professorBean.professor.temFuncao eq 'SIM'}">
                        </h:panelGroup>-->

                            <p:outputLabel for="classe" value="Classe:"/>
                            <p:inputText id="classe" value="#{professorBean.professor.classe}" style="width: 273px"/>

                            <p:outputLabel for="nivel" value="Nível:"/>
                            <p:spinner id="nivel" value="#{professorBean.professor.nivel}" size="30" min="0" decimalPlaces="0" style="text-align: left"/>

                            <p:outputLabel for="observations" value="Observações: " style="margin-right: 17px;"/>
                            <p:inputTextarea id="observations" rows="3" cols="33" maxlength="255" value="#{professorBean.professor.observacoes}"
                                             autoResize="false" counter="counterDescription" counterTemplate="{0} caracteres restantes"/>
                            <p:outputLabel/>
                            <p:outputLabel id="counterDescription" style="font-size: 12px;"/>

                        </h:panelGrid>
                    </p:tab>

                </p:tabView>

            </h:form>

            <p:toolbar>
                <f:facet name="left">
                    <p:commandButton style="font-size: 13px" value="Salvar" action="#{professorBean.salvar}" 
                                     icon="fa fa-save" id="botaoSalvar">
                        <f:ajax execute="@form" render="@form"/>
                    </p:commandButton>

                    <p:button style="font-size: 13px;" value="Cancelar" id="botaoCancelar"
                              outcome="/servidor/listar-servidores" icon="fa fa-times">
                    </p:button>
                </f:facet>

                <f:facet name="right">
                    <p:commandButton value="Limpar campos" icon="fa fa-times-circle" update="formPesquisaProfessor" process="@this">
                        <p:resetInput target="formPesquisaProfessor"/>
                    </p:commandButton>
                </f:facet>
            </p:toolbar>

        </p:fieldset>

    </ui:define>

</ui:composition>
